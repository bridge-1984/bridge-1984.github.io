(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{410:function(r,e,t){"use strict";t.r(e);var o=t(1),v=Object(o.a)({},(function(){var r=this,e=r._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[e("h2",{attrs:{id:"概述"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[r._v("#")]),r._v(" 概述")]),r._v(" "),e("p",[r._v("JavaScript 是单线程执行的，所有任务只能放在一个线程上执行，这就限制了多核计算机充分发挥计算能力；同时，JS的执行通常位于主线程，和页面绘制、样式计算等处于同一线程，因此不免会出现阻塞其他任务的情况，而导致用户体验不佳。")]),r._v(" "),e("p",[r._v("因此我们可以使用 Web Worker，Web Worker 为 JS 的执行提供了多线程环境，主线程可通过创建 Worker 子线程，从而分担任务执行的压力。")]),r._v(" "),e("p",[r._v("Worker 子线程"),e("strong",[r._v("不会影响主线程的执行")]),r._v("，同时"),e("strong",[r._v("一旦创建成功就会立刻执行")]),r._v("，不会被主线程的事件打断，所以比较耗费资源，必须合理使用且执行完毕后及时关闭")]),r._v(" "),e("h2",{attrs:{id:"限制"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#限制"}},[r._v("#")]),r._v(" 限制")]),r._v(" "),e("ul",[e("li",[e("p",[e("strong",[r._v("DOM 限制")]),e("br"),r._v("\nWorker 无法读取主线程所处理的网页的 DOM 对象，也无法使用 "),e("code",[r._v("document")]),r._v("、"),e("code",[r._v("window")]),r._v("、"),e("code",[r._v("parent")]),r._v(" 等对象，只能访问 "),e("code",[r._v("navigator")]),r._v("、"),e("code",[r._v("location")]),r._v(" 对象")])]),r._v(" "),e("li",[e("p",[e("strong",[r._v("文件读取限制")]),e("br"),r._v("\nWorker 子线程读取的脚本必须从网络获取，不能从本地文件加载")])]),r._v(" "),e("li",[e("p",[e("strong",[r._v("通信限制")]),e("br"),r._v("\nWorker 子线程无法直接和主线程进行通信，必须通过消息完成")])]),r._v(" "),e("li",[e("p",[e("strong",[r._v("脚本执行限制")]),e("br"),r._v("\nWorker 子线程可以通过 "),e("code",[r._v("XMLHTTPRequest")]),r._v(" 对象发起 ajax 请求，但是不能使用 "),e("code",[r._v("alert()")]),r._v("、"),e("code",[r._v("confirm()")]),r._v(" 方法在页面弹出提示")])]),r._v(" "),e("li",[e("p",[e("strong",[r._v("同源限制")]),e("br"),r._v("\nWorker 子线程执行的代码文件必须和主线程的代码文件同源")])])]),r._v(" "),e("p",[e("a",{attrs:{href:"https://www.ruanyifeng.com/blog/2018/07/web-worker.html",target:"_blank",rel:"noopener noreferrer"}},[r._v("阮一峰-Web Worker教程"),e("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=v.exports}}]);