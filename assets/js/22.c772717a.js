(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{412:function(t,s,a){"use strict";a.r(s);var r=a(1),e=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"_1-vue-组件间传值"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-vue-组件间传值"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://segmentfault.com/a/1190000019208626",target:"_blank",rel:"noopener noreferrer"}},[t._v("1. vue 组件间传值"),s("OutboundLink")],1)]),t._v(" "),s("ol",[s("li",[t._v("父向子传值：props自定义属性")])]),t._v(" "),s("ul",[s("li",[t._v("Child.vue")])]),t._v(" "),s("div",{staticClass:"language-javaScript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("msg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" ———— "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("date"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button @click"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"show"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("获取子组件的值"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'HelloWorld'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("props")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("msg")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("date")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("required")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("methods")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("show")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("$emit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'getSonValue'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'子向父传的值'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Parent.vue")])]),t._v(" "),s("div",{staticClass:"language-javaScript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Child msg"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Welcome to Your Vue.js App"')]),t._v(" date"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2022"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Child "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./components/Child.vue'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Parent'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("components")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    Child\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("子向父传值：自定义事件（$emit）")]),t._v(" "),s("li",[t._v("EventBus"),s("br"),t._v("\n通过一个空的Vue实例作为中央事件总线（事件中心），用它来触发事件和监听事件")]),t._v(" "),s("li",[t._v("使用 ref")]),t._v(" "),s("li",[t._v("$parent 和 $root")]),t._v(" "),s("li",[t._v("$attrs 和 $listeners")]),t._v(" "),s("li",[t._v("provide 和 inject")]),t._v(" "),s("li",[t._v("vuex")])]),t._v(" "),s("h2",{attrs:{id:"_2-虚拟dom"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-虚拟dom"}},[t._v("#")]),t._v(" 2. 虚拟dom")]),t._v(" "),s("p",[s("strong",[t._v("概念")]),s("br"),t._v("\n虚拟dom是对真实dom的抽象，用javaScript对象作为基础的树，用对象的属性来描述节点")]),t._v(" "),s("p",[s("strong",[t._v("作用")])]),t._v(" "),s("ol",[s("li",[t._v("直接操作真实dom的代价很大，尤其是频繁操作时，而使用虚拟dom可以避免一些多余的渲染，从而提高页面的渲染效率")]),t._v(" "),s("li",[t._v("虚拟dom使跨平台更容易实现。同一套虚拟dom可以对接不同平台的渲染逻辑，实现一套代码，多平台使用")])]),t._v(" "),s("h2",{attrs:{id:"_3-diff-算法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-diff-算法"}},[t._v("#")]),t._v(" 3. diff 算法")]),t._v(" "),s("p",[s("strong",[t._v("概念")]),s("br"),t._v("\ndiff算法是一种通过同层树节点进行比较的高效算法")]),t._v(" "),s("p",[s("strong",[t._v("特点")])]),t._v(" "),s("ol",[s("li",[t._v("比较只会在同层级进行，不会跨层级比较")]),t._v(" "),s("li",[t._v("进行比较时从两端向中间进行")])]),t._v(" "),s("p",[s("strong",[t._v("应用场景")]),s("br"),t._v("\n常用于虚拟dom渲染成真实dom时，新旧虚拟dom树的比较")]),t._v(" "),s("p",[s("strong",[t._v("原理")])]),t._v(" "),s("ol",[s("li",[t._v("引入4个指针，分别指向旧虚拟dom节点列表开头、结尾和新虚拟dom的开头、结尾。")]),t._v(" "),s("li",[t._v("按下列顺序进行比较："),s("br"),t._v("\n（1）旧前与新前节点对比"),s("br"),t._v("\n（2）旧后与新后节点对比"),s("br"),t._v("\n（3）旧前与新后节点对比"),s("br"),t._v("\n（4）旧后与新前节点对比"),s("br"),t._v("\n如果有相同的，则将真实节点移到对应位置；如果没有相同的，遍历旧节点列表新前指针所指节点，找到则对应移动真实dom，否则真实dom插入新节点")]),t._v(" "),s("li",[t._v("重复上述步骤直至"),s("strong",[t._v("旧前大于旧后")]),t._v("或"),s("strong",[t._v("新后小于新前")])]),t._v(" "),s("li",[t._v("如果"),s("br"),t._v("\n（1）旧前大于旧后，且新节点列表仍没遍历完，则新增这些节点插入到对应位置"),s("br"),t._v("\n（2）新后小于新前，且旧节点列表没遍历完，则删除这些剩余的节点")])]),t._v(" "),s("h2",{attrs:{id:"_4-vue-中-key-的作用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-vue-中-key-的作用"}},[t._v("#")]),t._v(" 4. vue 中 key 的作用")]),t._v(" "),s("p",[t._v("key是每个虚拟dom节点的唯一标识，当进行diff时，根据key可以更快、更准确地找到对应的节点")]),t._v(" "),s("p",[t._v("如果不用key，vue就无法获取每个节点的顺序来在对应位置进行插入或删除，而是会采用"),s("strong",[t._v("就地更新")]),t._v("的方式，导致一些多余的dom操作")]),t._v(" "),s("p",[t._v("比如现在有个节点列表是[1,2,3]，要向头部插入一个新的节点，值为0；"),s("br"),t._v("\n若不使用key，vue会将原本的节点值改为0、1、2，再在尾部新增一个值为3的节点；"),s("br"),t._v("\n而使用key，vue则会直接创建一个值为0的节点，然后插入到1前面")])])}),[],!1,null,null,null);s.default=e.exports}}]);